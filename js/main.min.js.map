{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/api.js","source/js/main.js","source/js/modules/accordions/open-accordion.js","source/js/modules/animation/init-animation-page.js","source/js/modules/countdown/countdown.js","source/js/modules/form/form.js","source/js/modules/form/messages.js","source/js/utils/ios-checker.js","source/js/utils/ios-vh-fix.js"],"names":[],"mappings":"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","file":"main.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","const sendData = (onSuccess, onFail, body) => {\n  fetch('#',\n      {\n        method: 'POST',\n        body,\n      }\n  ).then((response) => {\n    if (response.ok) {\n      onSuccess();\n    } else {\n      onFail();\n    }\n  })\n      .catch(() => {\n        onFail();\n      });\n\n};\n\nexport {sendData};\n","import {iosVhFix} from './utils/ios-vh-fix';\nimport {initCountdown} from './modules/countdown/countdown';\nimport {setUserFormSubmit} from './modules/form/form';\nimport {showErrorMessage, showSuccesMessage} from './modules/form/messages';\nimport {initAnimationPage} from './modules/animation/init-animation-page';\nimport {openAccordion} from './modules/accordions/open-accordion';\n\n// ---------------------------------\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\n  // Utils\n  // ---------------------------------\n\n  iosVhFix();\n\n  // Modules\n  // ---------------------------------\n  initCountdown();\n  initAnimationPage();\n  openAccordion();\n\n  // все скрипты должны быть в обработчике 'DOMContentLoaded', но не все в 'load'\n  // в load следует добавить скрипты, не участвующие в работе первого экрана\n  window.addEventListener('load', () => {\n\n    setUserFormSubmit(showSuccesMessage, showErrorMessage);\n  });\n});\n\n// ---------------------------------\n\n// ❗❗❗ обязательно установите плагины eslint, stylelint, editorconfig в редактор кода.\n\n// привязывайте js не на классы, а на дата атрибуты (data-validate)\n\n// вместо модификаторов .block--active используем утилитарные классы\n// .is-active || .is-open || .is-invalid и прочие (обязателен нейминг в два слова)\n// .select.select--opened ❌ ---> [data-select].is-open ✅\n\n// выносим все в дата атрибуты\n// url до иконок пинов карты, настройки автопрокрутки слайдера, url к json и т.д.\n\n// для адаптивного JS используется matchMedia и addListener\n// const breakpoint = window.matchMedia(`(min-width:1024px)`);\n// const breakpointChecker = () => {\n//   if (breakpoint.matches) {\n//   } else {\n//   }\n// };\n// breakpoint.addListener(breakpointChecker);\n// breakpointChecker();\n\n// используйте .closest(el)\n","const openAccordionButton = document.querySelector('.footer__button');\nconst accordionBlock = document.querySelector('.footer__events');\n\nexport function openAccordion() {\n  openAccordionButton.addEventListener('click', () => {\n    accordionBlock.classList.add('is-active');\n  });\n}\n","const animItems = document.querySelectorAll('.anim-items');\n\nconst initAnimationPage = () => {\n  if (animItems.length > 0) {\n\n    const animOnScroll = () => {\n      for (let i = 0; i < animItems.length; i++) {\n        const animItem = animItems[i];\n        const animItemHeight = animItem.offsetHeight;\n        const animItemOffset = offset(animItem).top;\n        const animStart = 4;\n\n        let animItemPoint = window.innerHeight - animItemHeight / animStart;\n        if (animItemHeight > window.innerHeight) {\n          animItemPoint = window.innerHeight - window.innerHeight / animStart;\n        }\n\n        if ((scrollY > animItemOffset - animItemPoint) && scrollY < (animItemOffset + animItemHeight)) {\n          animItem.classList.add('anim-active');\n        } else {\n          if (!animItem.classList.contains('anim-no-hide')) {\n            animItem.classList.remove('anim-active');\n          }\n        }\n      }\n\n      function offset(el) {\n        const rect = el.getBoundingClientRect();\n        const scrollLeft = window.scrollX || document.documentElement.scrollLeft;\n        const scrollTop = window.scrollY || document.documentElement.scrollTop;\n        return {top: rect.top + scrollTop, left: rect.left + scrollLeft};\n      }\n    };\n    window.addEventListener('scroll', animOnScroll);\n    setTimeout(() => {\n      animOnScroll();\n    }, 300);\n\n  }\n};\n\nexport {initAnimationPage};\n","const targetDate = new Date('2024-07-24T00:00:00');\n\nfunction initCountdown() {\n  function updateCountdown() {\n    const now = new Date();\n    const remainingTime = targetDate - now;\n\n    const days = Math.floor(remainingTime / (1000 * 60 * 60 * 24));\n    const hours = Math.floor((remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));\n    const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);\n\n    document.getElementById('days').innerText = days.toString().padStart(2, '0');\n    document.getElementById('hours').innerText = hours.toString().padStart(2, '0');\n    document.getElementById('minutes').innerText = minutes.toString().padStart(2, '0');\n    document.getElementById('seconds').innerText = seconds.toString().padStart(2, '0');\n  }\n\n  // Обновляем счетчик каждую секунду\n  setInterval(updateCountdown, 1000);\n}\n\nexport {initCountdown};\n","import {sendData} from '../../api';\n\nconst form = document.querySelector('.footer__form');\n\nconst setUserFormSubmit = (onSuccess, onFail) => {\n  form.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n    sendData(\n        () => {\n          onSuccess();\n        },\n        () => {\n          onFail();\n        },\n        new FormData(evt.target)\n    );\n  });\n};\n\nexport {setUserFormSubmit};\n","const isEscape = (evt) => evt.key === 'Escape';\n\nconst successMessage = document\n    .querySelector('#success')\n    .content.querySelector('.success');\nconst errorMessage = document\n    .querySelector('#error')\n    .content.querySelector('.error');\n\nconst hideMessage = () => {\n  const existsMessage =\n    document.querySelector('.success') || document.querySelector('.error');\n  existsMessage.remove();\n  document.removeEventListener('keydown', onMessageEscKeydown);\n  document.body.removeEventListener('click', onBodyClick);\n};\n\nconst onCloseButtonClick = () => {\n  hideMessage();\n};\n\nfunction onMessageEscKeydown(evt) {\n  if (isEscape(evt)) {\n    evt.preventDefault();\n    hideMessage();\n  }\n}\n\nfunction onBodyClick(evt) {\n  if (\n    evt.target.closest('.error__inner') ||\n    evt.target.closest('.success__inner')\n  ) {\n    return;\n  }\n  hideMessage();\n}\n\nconst showMessage = (element, buttonClass) => {\n  document.body.append(element);\n  document.body.addEventListener('click', onBodyClick);\n  document.addEventListener('keydown', onMessageEscKeydown);\n  element\n      .querySelector(buttonClass)\n      .addEventListener('click', onCloseButtonClick);\n  element\n      .querySelector('.popup__close-btn')\n      .addEventListener('click', onCloseButtonClick);\n};\n\nconst showSuccesMessage = () => {\n  showMessage(successMessage, '.success__button');\n};\n\nconst showErrorMessage = () => {\n  showMessage(errorMessage, '.error__button');\n};\n\nexport {showSuccesMessage, showErrorMessage};\n","export const iosChecker = () => {\n  return [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes('Mac') && 'ontouchend' in document);\n};\n","import {iosChecker} from './ios-checker';\n\nconst iosVhFix = () => {\n  if (!(!!window.MSInputMethodContext && !!document.documentMode)) {\n    if (iosChecker()) {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n      window.addEventListener('resize', function () {\n        vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      });\n    }\n  }\n};\n\nexport {iosVhFix};\n"]}